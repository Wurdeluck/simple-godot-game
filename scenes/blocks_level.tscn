[gd_scene load_steps=9 format=3 uid="uid://c1in45mej56v4"]

[ext_resource type="Script" path="res://scripts/BlocksLevel.gd" id="1_uug4r"]
[ext_resource type="PackedScene" uid="uid://bvv71dw5cn0qy" path="res://scenes/block.tscn" id="2_hpx3s"]
[ext_resource type="PackedScene" uid="uid://dgsku8mu2q67v" path="res://scenes/api.tscn" id="3_mt0mh"]
[ext_resource type="PackedScene" uid="uid://bxijjhum0jkxl" path="res://scenes/blockchain.tscn" id="4_cn78y"]
[ext_resource type="Script" path="res://scripts/kafka.gd" id="5_nr6vn"]

[sub_resource type="SegmentShape2D" id="SegmentShape2D_8huyt"]
a = Vector2(0, -30)
b = Vector2(0, 30)

[sub_resource type="SegmentShape2D" id="SegmentShape2D_q56v7"]
a = Vector2(-640, 0)
b = Vector2(640, 0)

[sub_resource type="SegmentShape2D" id="SegmentShape2D_xvdt7"]
a = Vector2(-640, 0)
b = Vector2(640, 0)

[node name="BlocksLevel" type="Node"]
script = ExtResource("1_uug4r")

[node name="AddMoney" type="Button" parent="."]
visible = false
offset_left = -100.0
offset_top = -25.0
offset_right = 100.0
offset_bottom = 25.0
tooltip_text = "If pressed, adds money"
text = "ADD MONEY"

[node name="GameTime" type="Label" parent="."]
offset_left = -617.0
offset_top = -344.0
offset_right = -577.0
offset_bottom = -321.0

[node name="Camera2D" type="Camera2D" parent="."]

[node name="BlocksInKafka" type="Label" parent="."]
offset_left = 400.0
offset_top = -210.0
offset_right = 500.0
offset_bottom = -187.0

[node name="ClientPrice" type="Label" parent="."]
offset_left = 83.0
offset_top = -242.0
offset_right = 276.0
offset_bottom = -216.0

[node name="BuyClient" type="Button" parent="."]
offset_left = 82.0
offset_top = -202.0
offset_right = 282.0
offset_bottom = -152.0
pivot_offset = Vector2(100, 25)
text = "BUY CLIENT"

[node name="MachinesValues" type="VBoxContainer" parent="."]
offset_left = 500.0
offset_top = -300.0
offset_right = 550.0
offset_bottom = -200.0

[node name="MoneySpeed" type="Label" parent="MachinesValues"]
layout_mode = 2

[node name="Money" type="Label" parent="MachinesValues"]
layout_mode = 2

[node name="Clients" type="Label" parent="MachinesValues"]
layout_mode = 2
metadata/_edit_use_anchors_ = true

[node name="MachinesKeys" type="VBoxContainer" parent="."]
offset_left = 400.0
offset_top = -300.0
offset_right = 500.0
offset_bottom = -200.0

[node name="MoneySpeedKey" type="Label" parent="MachinesKeys"]
layout_mode = 2
text = "MONEY/S:"

[node name="MoneyKey" type="Label" parent="MachinesKeys"]
layout_mode = 2
text = "MONEY:"

[node name="ClientsKey" type="Label" parent="MachinesKeys"]
layout_mode = 2
text = "CLIENTS:"

[node name="Counter" type="Timer" parent="."]
autostart = true

[node name="Block" parent="." instance=ExtResource("2_hpx3s")]
z_index = -1
position = Vector2(-537, -80)
speed = 50.0

[node name="API" parent="." node_paths=PackedStringArray("_kafka") instance=ExtResource("3_mt0mh")]
z_index = 1
position = Vector2(-537, 220)
scale = Vector2(0.75, 0.75)
_block = ExtResource("2_hpx3s")
_kafka = NodePath("../Kafka")

[node name="Blockchain" parent="." node_paths=PackedStringArray("_kafka") instance=ExtResource("4_cn78y")]
z_index = 1
_kafka = NodePath("../Kafka")

[node name="Kafka" type="Node2D" parent="."]
script = ExtResource("5_nr6vn")

[node name="Wall" type="StaticBody2D" parent="."]
position = Vector2(-265, -80)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Wall"]
shape = SubResource("SegmentShape2D_8huyt")

[node name="UpperKafkaBound" type="StaticBody2D" parent="."]
position = Vector2(0, 150)

[node name="CollisionShape2D" type="CollisionShape2D" parent="UpperKafkaBound"]
modulate = Color(1, 0.0901961, 1, 1)
shape = SubResource("SegmentShape2D_q56v7")

[node name="LowerKafkaBound" type="StaticBody2D" parent="."]
position = Vector2(0, 300)

[node name="CollisionShape2D" type="CollisionShape2D" parent="LowerKafkaBound"]
modulate = Color(1, 0.0901961, 1, 1)
shape = SubResource("SegmentShape2D_xvdt7")

[connection signal="pressed" from="AddMoney" to="." method="_on_add_money_pressed"]
[connection signal="pressed" from="BuyClient" to="." method="_on_buy_client_pressed"]
[connection signal="timeout" from="Counter" to="." method="_on_counter_timeout"]
[connection signal="body_entered" from="API" to="API" method="_on_body_entered"]
[connection signal="body_exited" from="API" to="Kafka" method="_on_api_body_exited"]
[connection signal="body_entered" from="Blockchain" to="." method="_on_blockchain_body_entered"]
[connection signal="body_entered" from="Blockchain" to="Blockchain" method="_on_body_entered"]
[connection signal="body_entered" from="Blockchain" to="Kafka" method="_on_blockchain_body_entered"]
